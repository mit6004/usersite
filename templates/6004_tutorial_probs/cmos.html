<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html><head><script language="JavaScript1.2" src="tutprobs.js"></script></head><body style="margin-top:5px">
	<noscript><table width=100%% border="1" cellpadding="8" bgcolor="yellow"><tr><td>
        You need to have Javascript enabled to view this page
        properly.  If your browser does not support Javascript
        or you have chosen not to enable it, please return to
        the previous page and use the appropriate link to view
        non-script versions of this tutorial page.
        </td></tr></table></noscript><h3>CMOS technology</h3>
        <a href="\#" onClick="showall(); return false"><img border="0" src="showall.gif"/></a>
        &nbsp;
        <a href="\#" onClick="hideall(); return false"><img border="0" src="hideall.gif"/></a>
        <p/><img src="star.gif" alt="Discussed in section"/>
        indicates problems that have been selected for discussion
        in section, time permitting.
        


    <div id="question1" class="question">
    <p/><hr/><p/><u>Problem 1.</u>
    
The following diagram shows a schematic for the
pulldown circuitry for a particular CMOS gate:

<p/><center><img src="cmos01.gif"/></center>


    <div id="question1A" class="question">
    <ol type="A" start="1"><li>
    
<img src="star.gif" alt="Discussed in section"/>
What is the correct schematic for the pullup
circuitry?

<div id="control1A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('1A'); return false">
          <img name="ctl1A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer1A" class="answer" style="display:none"><font color="blue">
To figure out the complement of a FET circuit,
decompose it into SERIES and PARALLEL subcircuits.  In
our example the NFET pulldown circuitry can be decomposed
as:

<p/><center>PARALLEL(SERIES(PARALLEL(A,B),C),D)</center>

<p/>The complementary circuit simply converts SERIES
circuits into PARALLEL circuits and vice versa:

<p/><center>SERIES(PARALLEL(SERIES(A,B),C),D)</center>

<p/>which we can then draw as a schematic using the complementary
type of FET (in this example PFETs):

<p/><center><img src="cmos09.gif"/></center>

<p/>Note that series circuits can be drawn with the components
in any order, so there are several equally legitimate pullup
schematics.

</font><div>
</li></ol></div>

    <div id="question1B" class="question">
    <ol type="A" start="2"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Assuming the pullup circuitry is designed correctly, what is
the logic function implemented this gate?

<div id="control1B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('1B'); return false">
          <img name="ctl1B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer1B" class="answer" style="display:none"><font color="blue">
Start with the SERIES/PARALLEL decomposition of the pulldown
given in the answer to the preceeding question:

<p/><center>PARALLEL(SERIES(PARALLEL(A,B),C),D)</center>

<p/>Convert SERIES connections to AND and PARALLEL connections to OR:

<p/><center>OR(AND(OR(A,B),C),D)</center>

<p/>Finally invert the answer to get

<p/><center>OUTPUT = -(D + C*(A + B))</center>

<p/> where "-" is NOT, "*" is AND and "+" is OR.

</font><div>
</li></ol></div>

    <div id="question1C" class="question">
    <ol type="A" start="3"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Assuming the pullup circuitry is designed
correctly, when the output of the CMOS gate above
is a logic "0", in the steady state what would we
expect the voltage of the output terminal to be?
What would be the voltage if the output were a
logic "1"?

<div id="control1C" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('1C'); return false">
          <img name="ctl1C" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer1C" class="answer" style="display:none"><font color="blue">
When the output of a CMOS gate is a logic "0",
we would expect the voltage to be essentially 0V.
There is a miniscule amount of leakage through the
pullup circuitry even though the PFETS are off,
so the output isn't precisely 0V, but the current
through the NFET pulldowns is many of order of
magnitude larger.

<p/>Similarly, when the output of a CMOS gate is a logic "1",
we would expect the voltage to be the same as the power
supply voltage (VDD).

</font><div>
</li></ol></div>
</div>

    <div id="question2" class="question">
    <p/><hr/><p/><u>Problem 2.</u>
    

The following diagram shows a schematic for the pullup circuitry for a
particular CMOS gate:

<p/><center><img src="cmos03.gif"/></center>


    <div id="question2A" class="question">
    <ol type="A" start="1"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Draw a schematic for the pulldown circuitry for this CMOS gate. 

<div id="control2A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('2A'); return false">
          <img name="ctl2A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer2A" class="answer" style="display:none"><font color="blue">
The pullup is configured as SERIES(PARALLEL(A,D),PARALLEL(B,C)) so the
pulldown should be the complement: PARALLEL(SERIES(A,D),SERIES(B,C))

<p/><center><img src="cmos10.gif"/></center>

</font><div>
</li></ol></div>

    <div id="question2B" class="question">
    <ol type="A" start="2"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Assuming the pulldown circuitry is designed correctly, give an expression
for the logic function implemented by this gate.

<div id="control2B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('2B'); return false">
          <img name="ctl2B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer2B" class="answer" style="display:none"><font color="blue">
Using the pullup circuitry we can develop the following sum-of-products
expression for F:
<pre>     _   _   _   _    _ _   _ _   _ _   _ _
F = (A + D)*(B + C) = A*B + A*C + B*D + C*D
</pre>
Or we can look at the pulldown circuitry and express F as the complement
of the function that describes when the pulldown is on:
<pre>    _________    
F = A*D + B*C
</pre>
Using several applications of DeMorgan's theorem this can be expanded to
<pre>     ___   ___     _   _   _   _
F = (A*D)*(B*C) = (A + D)*(B + C)
</pre>
which is the expression we derived using the pullup circuitry.
</font><div>
</li></ol></div>
</div>

    <div id="question3" class="question">
    <p/><hr/><p/><u>Problem 3.</u>
    
Consider the following circuit built from nfets
and pfets:

<p/><center><img src="cmos02.gif"/></center>


    <div id="question3A" class="question">
    <ol type="A" start="1"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Can this circuit be used as a CMOS gate?  If not,
explain why.  If so, what function does it compute?

<div id="control3A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('3A'); return false">
          <img name="ctl3A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer3A" class="answer" style="display:none"><font color="blue">
Since the pullup and pulldown circuits are complementary,
the circuit is a legitimate CMOS gate.  The function is
<pre>    _________    ___  _    _   _  _   _ _   _ _
F = (A*B) + C = (A*B)*C = (A + B)*C = A*C + B*C
</pre>

</font><div>
</li></ol></div>

    <div id="question3B" class="question">
    <ol type="A" start="2"><li>
    
<img src="star.gif" alt="Discussed in section"/>
If we wanted the output voltage to change more
quickly when going from a logic "0" to a logic "1",
what changes would we make to the fets?

<div id="control3B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('3B'); return false">
          <img name="ctl3B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer3B" class="answer" style="display:none"><font color="blue">
To increase the speed of a rising output transition, we
need to charge the output node more quickly.  The most
effective change would be to increase the <i>width</i>
of the PFET pullups which will increase the amount of
pullup current they conduct when on.

<p/>Note that increasing the width of the PFETS will also
increase the capacitance of the output node since the
PN junction capacitance of the PFET drain diffusions increases
when the width of the PFET increases.  But the speed gain from
increased pullup current more than offsets the slowdown
from increased capacitance.

<p/>We can also decrease the width of the two NFET pulldowns
directly connected to the output node.  This will decrease
the output capacitance and hence speed up any output
transition.

</font><div>
</li></ol></div>
</div>

    <div id="question4" class="question">
    <p/><hr/><p/><u>Problem 4.</u>
    
Consider the 4-input Boolean function
Y = (A*B) + (C*D) where "*" is AND and "+" is OR.


    <div id="question4A" class="question">
    <ol type="A" start="1"><li>
    
<img src="star.gif" alt="Discussed in section"/>
Implement the function with a single 4-input CMOS gate and an inverter.

<div id="control4A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('4A'); return false">
          <img name="ctl4A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer4A" class="answer" style="display:none"><font color="blue">
<center><img src="cmos08.gif"/></center>

</font><div>
</li></ol></div>
</div>

    <div id="question5" class="question">
    <p/><hr/><p/><u>Problem 5.</u>
    
Anna Logue, a circuit designer who missed several early 6.004
lectures, is struggling to design her first CMOS logic gate.  She has
implemented the following circuit:

<p/><center><img src="cmos04.gif"/></center>

Anna has fabricated 100 test chips containing this circuit, and has a
simple testing circuit which allows her to try out her proposed gate
statically for various combinations of the A and B inputs.  She has
burned out 97 of her chips, and needs your help before destroying the
remaining three.  She is certain she is applying only valid input
voltages, and expects to find a valid output at terminal C.  Anna also
keeps noticing a very faint smell of smoke.


    <div id="question5A" class="question">
    <ol type="A" start="1"><li>
    
What is burning out Anna's test chips? Give a specific scenario,
including input values together with a description of the failure
scenario.  For what input combinations will this failure occur?

<div id="control5A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('5A'); return false">
          <img name="ctl5A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer5A" class="answer" style="display:none"><font color="blue">
The chips are burning out when the pulldown and pullup are both
active.  This will occur when A=0, B=1 or when A=1, B=0.

</font><div>
</li></ol></div>

    <div id="question5B" class="question">
    <ol type="A" start="2"><li>
    
Are there input combinations for which Anna can expect a valid output at C? Explain.

<div id="control5B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('5B'); return false">
          <img name="ctl5B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer5B" class="answer" style="display:none"><font color="blue">
Yes, if A=1 and B=1, then C=0.  Or if A=0 and B=0, then C=1

</font><div>
</li></ol></div>

    <div id="question5C" class="question">
    <ol type="A" start="3"><li>
    
One of Anna's test chips has failed by burning out the pullup
connected to A as well as the pulldown connected to B.  Each of the
burned out FETs appears as an open circuit, but the rest of the
circuit remains functional. Can the resulting circuit be used as a
combinational device whose two inputs are A and B?
Explain its behavior for each combination of
valid inputs.

<div id="control5C" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('5C'); return false">
          <img name="ctl5C" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer5C" class="answer" style="display:none"><font color="blue">
No.  When A=1 and B=0, the circuit will burn out again, since the pullup
and pulldown will be active, thus burning out the circuit. Also, the
output is not defined when A=0 and B=1, since neither the pullup or
pulldown are active.

</font><div>
</li></ol></div>

    <div id="question5D" class="question">
    <ol type="A" start="4"><li>
    
In order to salvage her remaining three chips, Anna connects the A and
B inputs of each and tries to use it as a single-input gate. Can the
result be used as a single-input combinational device?  Explain.

<div id="control5D" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('5D'); return false">
          <img name="ctl5D" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer5D" class="answer" style="display:none"><font color="blue">
Yes.  Since A=B, we are left with the following function (an inverter):

<p/><center><img src="cmos06.gif"/></center>

</font><div>
</li></ol></div>
</div>

    <div id="question6" class="question">
    <p/><hr/><p/><u>Problem 6.</u>
    
Occasionally you will come across a CMOS circuit where the
complementary nature of the n-channel pull-downs and p-channel
pull-ups are not obvious, as in the circuit shown below:

<p/><center><img src="cmos05.gif"/></center>


    <div id="question6A" class="question">
    <ol type="A" start="1"><li>
    
Construct a table that gives the on-off status of each transistor in
the circuit above for all combinations of inputs A and B.

<div id="control6A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('6A'); return false">
          <img name="ctl6A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer6A" class="answer" style="display:none"><font color="blue">
<p/><center><img src="cmos07.gif"/></center>

</font><div>
</li></ol></div>

    <div id="question6B" class="question">
    <ol type="A" start="2"><li>
    
Compute the output, Y, for each input combination and describe the
function of the above circuit.

<div id="control6B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('6B'); return false">
          <img name="ctl6B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer6B" class="answer" style="display:none"><font color="blue">
The output Y is connected to four pairs of transistors in series,
so each of these pairs can affect the output.

<ul>
<p/>when A=0 and B=0, transistors T4 and T5 are on, so Y=0
<p/>when A=0 and B=1, transistors T6 and T7 are on, so Y=1
<p/>when A=1 and B=0, transistors T2 and T3 are on, so Y=1
<p/>when A=1 and B=1, transistors T8 and T9 are on, so Y=0
</ul>

<p/>Putting this together, we conclude that Y = XOR(A,B).

</font><div>
</li></ol></div>
</div>

    <div id="question7" class="question">
    <p/><hr/><p/><u>Problem 7.</u>
    
In lecture there was a brief overview of the
CMOS fabrication process.


    <div id="question7A" class="question">
    <ol type="A" start="1"><li>
    
What keeps the source/drain diffusions of a
MOSFET from shorting out to the substrate or to
each other?

<div id="control7A" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7A'); return false">
          <img name="ctl7A" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7A" class="answer" style="display:none"><font color="blue">
The source/drain diffusions are embedded in a substrate
lightly doped to be of the opposite type.  For example,
NFETs have N-type source/drain diffusions embedded in
a P-type substrate.  A PN junction forms "automatically"
where the source/drain diffusions and substrate come
into contact.  The designer of the circuit connects the
substrate to the appropriate power supply rail (eg, GND
or VDD) so as to guarantee that the PN junction is reverse-biased
at all times.  "Reverse-biased" means that
V<sub>P</sub>-V<sub>N</sub>&nbsp;&lt;=&nbsp;0V.  When the
PN junction is reverse-biased, no current will flow across
the boundary.

<p/>In the case of an NFET, the P-type substrate
is tied to GND (V<sub>P</sub> = 0), so even though the diffusion voltage
V<sub>N</sub> may anywhere between OV and VDD, 
V<sub>P</sub>-V<sub>N</sub>&nbsp;&lt;=&nbsp;0V.

</font><div>
</li></ol></div>

    <div id="question7B" class="question">
    <ol type="A" start="2"><li>
    
Why does reducing the thickness of the thin oxide
layer improve the performance of the mosfets?

<div id="control7B" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7B'); return false">
          <img name="ctl7B" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7B" class="answer" style="display:none"><font color="blue">
An inversion layer (aka, the "channel") is formed in a FET when
the gate voltage exceeds the threshold voltage of the device.
The inverted channel conducts current between the source and
drain diffusion.  The depth of the channel and the strength of
the inversion are proportional to the electric field generated
by charges on the gate terminal -- the electric field is stronger
if the gate terminal is brought closer to the channel by
making the thin oxide thinner.

</font><div>
</li></ol></div>

    <div id="question7C" class="question">
    <ol type="A" start="3"><li>
    
Why is silicon dioxide (SiO<sub>2</sub>) deposited right before
a new wiring layer is added to the surface of the
wafer?

<div id="control7C" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7C'); return false">
          <img name="ctl7C" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7C" class="answer" style="display:none"><font color="blue">
Silicon dioxide is an insulator, so by depositing it on the
wafer we ensure that the new wiring layer is electrically
isolated from the circuitry underneath.

</font><div>
</li></ol></div>

    <div id="question7D" class="question">
    <ol type="A" start="4"><li>
    
How are connections between the wiring layers made?

<div id="control7D" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7D'); return false">
          <img name="ctl7D" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7D" class="answer" style="display:none"><font color="blue">
Connections are made by etching holes in the insulating silicon
dioxide layer before depositing and patterning a wiring layer.
The wire material fills the holes making connections to the
underlying circuitry.  In most modern processes, the holes are actually
filled with tungsten, while the interconnect is formed from
aluminum or copper.

</font><div>
</li></ol></div>

    <div id="question7E" class="question">
    <ol type="A" start="5"><li>
    
If one wanted to <i>increase</i> I<sub>DS</sub> for a
NFET, how should it's dimensions be changed?

<div id="control7E" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7E'); return false">
          <img name="ctl7E" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7E" class="answer" style="display:none"><font color="blue">
I<sub>DS</sub> for a NFET is portional to W/L where
W is its width and L its length.  So to increase I<sub>DS</sub>
one should increase the NFET's width or decrease its length.
Except in unusual circumstances, FETs are usually constructed
using the minimum channel length allowed by the process, so
decreasing the channel length is not an option.

</font><div>
</li></ol></div>

    <div id="question7F" class="question">
    <ol type="A" start="6"><li>
    
Suppose there are two mosfets of width W and length L
connected in parallel, i.e., all their terminal connections
are identical.  Given that I<sub>DS</sub> of a mosfet
is proportional to W/L, what would be the appropriate
dimensions for a <i>single</i> mosfet that would have the
same I<sub>DS</sub> as the pair connected in parallel?

<div id="control7F" class="control" style="padding-top: 8px; padding-bottom: 8px">
        <a href="#" onClick="toggle('7F'); return false">
          <img name="ctl7F" class="hideshow" src="show.gif" border="0"/>
        </a></div> <div id="answer7F" class="answer" style="display:none"><font color="blue">
To first order, doubling the width of a mosfet will
double its I<sub>DS</sub>, so a single mosfet of
of width 2W and length L would have the same I<sub>DS</sub>
as the pair connected in parallel.
</font><div>
</li></ol></div>
</div>
</body></html>
